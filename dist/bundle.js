!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);class n{static get gameSize(){return{width:1200,height:920}}static get symbols(){return["01","02","03","04","05","06","07","08","09","10","11","12","13"]}static get overlayTexture(){return"assets/image/slotOverlay.png"}static get buttonTexture(){return["assets/image/controls/btn_spin_normal.png","assets/image/controls/btn_spin_hover.png","assets/image/controls/btn_spin_pressed.png","assets/image/controls/btn_spin_disable.png"]}static get soundInstName(){return["assets/sound/Reel_Spin.mp3","assets/sound/Landing_1.mp3"]}}let r,i,s,a,l,u,d=[],m=[],g=["10","10","10","10","10"];let h,p,c={};const b=new class{constructor(){function t(){const t=Math.min(window.innerWidth/1200,window.innerHeight/900),e=Math.ceil(1200*t),o=Math.ceil(900*t);l.view.style.width=`${e}px`,l.view.style.height=`${o}px`}l=new PIXI.Application(n.gameSize.width,n.gameSize.height,{transparent:!0}),document.querySelector("#frame")&&document.querySelector("#frame").appendChild(l.view),n.gameSize.width,n.gameSize.height,window.addEventListener("resize",t),t()}get stage(){return l.stage}get app(){return l}},y=new class{constructor(t,e){s=t,a=e,i=new PIXI.Container,this.createNextSpinSymbols()}buidSymbolsOnReels(){for(let t=0;t<=4;t++){let e=new PIXI.Container;e.x=200*t,i.addChild(e);let o={container:e,symbols:[],position:0,previousPosition:0,blur:new PIXI.filters.BlurFilter,symbolContainer:e};o.blur.blurX=0,o.blur.blurY=0,e.filters=[o.blur];for(let n=0;n<=4;n++){let r=this.addSymbol(t,n);o.symbols.push(r),e.addChild(r)}d.push(o)}return this.addReelMask(),i}addSymbol(t,e){let o=this.getTexture(t,e),n=new PIXI.Sprite(o);return n.scale.x=n.scale.y=.9,n.y=e*n.height*.9,n}createNextSpinSymbols(){r=[[this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol()],[this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol()],[this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol()],[this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol()],[this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol(),this.getRandomSymbol()]]}getRandomSymbol(){return n.symbols[Math.floor(Math.random()*n.symbols.length)]}getTexture(t,e){let o=0==e?g[e]:r[t][e-1];return o?PIXI.Texture.fromImage(`assets/image/symbols/${o}.png`):PIXI.Texture.fromImage("assets/image/symbols/10.png")}addReelsOverlay(t){let e=new PIXI.Sprite(PIXI.Texture.fromImage("assets/image/slotOverlay.png"));return e.width=1100,e.height=614,e}addReelMask(){var t=new PIXI.Graphics;t.beginFill(16711680,1),t.drawRect(i.x,i.y+38,1100,557),t.endFill(),i.mask=t}startToSpin(){this.createNextSpinSymbols();for(let t=0;t<d.length;t++){let e=d[t];this.tweenTo(e,"position",e.position+10+5*t,1e3+200*t,this.backout(0),null,t==d.length-1?a:s)}}updateSlot(){for(let t=0;t<d.length;t++){let e=d[t];e.blur.blurY=8*(e.position-e.previousPosition),e.previousPosition=e.position;for(let o=0;o<e.symbols.length;o++){let n=e.symbols[o];n.y,n.y=(e.position+o)%e.symbols.length*(.9*n.height),n.y>600&&0!=o&&(n.texture=this.getTexture(t,o))}}for(var t=Date.now(),e=[],o=0;o<m.length;o++){var n=m[o],r=Math.min(1,(t-n.start)/n.time);n.object[n.property]=this.lerp(n.propertyBeginValue,n.target,n.easing(r)),n.change&&n.change(n),1==r&&(n.object[n.property]=n.target,n.complete&&n.complete(n),e.push(n))}for(o=0;o<e.length;o++)m.splice(m.indexOf(e[o]),1)}tweenTo(t,e,o,n,r,i,s){var a={object:t,property:e,propertyBeginValue:t[e],target:o,easing:r,time:n,change:i,complete:s,start:Date.now()};return m.push(a),a}lerp(t,e,o){return t*(1-o)+e*o}backout(t){return function(e){return--e*e*((t+1)*e+t)+1}}}(function(){},function(){S=!1,f.enableButton()}),f=(new class{constructor(t){n.symbols.forEach(t=>PIXI.loader.add(`assets/image/symbols/${t}.png`,`assets/image/symbols/${t}.png`)),n.buttonTexture.forEach(t=>PIXI.loader.add(t,t)),PIXI.loader.add(n.overlayTexture,n.overlayTexture),PIXI.loader.load(t)}}(function(){let t=y.buidSymbolsOnReels();b.stage.addChild(t);const e=y.addReelsOverlay();b.stage.addChild(e),e.x=b.stage.width/2-e.width/2+10,e.y=b.stage.height/2-e.height/2,t.x=b.stage.width/2-t.width/2,t.y=b.stage.height/2-t.height/2-60,b.stage.addChild(f.spinButton),f.spinButton.x=990,f.spinButton.y=680,f.spinButton.on("pointerdown",I),b.app.ticker.add(function(t){S&&y.updateSlot()})}),new class{constructor(){this.initSpinButton()}initSpinButton(){c.normal=PIXI.Texture.fromImage(n.buttonTexture[0]),c.down=PIXI.Texture.fromImage(n.buttonTexture[2]),c.over=PIXI.Texture.fromImage(n.buttonTexture[1]),c.disable=PIXI.Texture.fromImage(n.buttonTexture[3]),(u=new PIXI.Sprite(c.normal)).anchor.set(.5),u.interactive=!0,u.buttonMode=!0,this.addTextOnSpin(),u.on("pointerdown",this.onButtonDown).on("pointerup",this.onButtonUp).on("pointerupoutside",this.onButtonUp).on("pointerover",this.onButtonOver).on("pointerout",this.onButtonOut)}onButtonDown(){u.texture=c.down,h=!0}onButtonUp(){h||(u.texture=p?c.over:c.normal)}onButtonOver(){h||(p=!0,u.texture=c.over)}onButtonOut(){h||(p=!1,u.texture=c.normal)}addTextOnSpin(){let t=new PIXI.TextStyle({fontFamily:"IMPACT",fontSize:40,fontWeight:"bold",fill:["#ffffff","#cccccc"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6});var e=new PIXI.Text("SPIN",t);e.anchor=new PIXI.Point(.5,.5),u.addChild(e)}disableButton(){h=!0,u.texture=c.disable}enableButton(){h=!1,u.texture=c.normal,u.texture=p?c.over:c.normal}get spinButton(){return u}});let S=!1;function I(){S||(S=!0,f.disableButton(),y.startToSpin())}}]);